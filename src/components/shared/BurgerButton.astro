<!-- Mobile menu button-->
<button
  type="button"
  class="md:hidden cursor-pointer flex h-9 w-9 items-center justify-center rounded-lg bg-gray-200 ring-gray-300 transition-all hover:ring-2 dark:bg-gray-600"
  aria-controls="mobile-menu"
  aria-expanded="false"
  id="burger"
>
  <span class="-inset-0.5"></span>
  <span class="sr-only">Open main menu</span>
  <!--
    Icon when menu is closed.

    Menu open: "hidden", Menu closed: "block"
  -->
  <svg
    id="menu-open"
    class="stroke-black dark:stroke-white block size-6"
    fill="none"
    viewBox="0 0 24 24"
    stroke-width="1.5"
    aria-hidden="true"
    data-slot="icon"
  >
    <path
      stroke-linecap="round"
      stroke-linejoin="round"
      d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"></path>
  </svg>
  <!--
    Icon when menu is open.

    Menu open: "block", Menu closed: "hidden"
  -->
  <svg
    id="menu-close"
    class="stroke-black dark:stroke-white hidden size-6"
    fill="none"
    viewBox="0 0 24 24"
    stroke-width="1.5"
    aria-hidden="true"
    data-slot="icon"
  >
    <path
      stroke-linecap="round"
      stroke-linejoin="round"
      d="M6 18 18 6M6 6l12 12"></path>
  </svg>
</button>

<script>
  addEventListener("load", (event) => {
    const burger = document.querySelector("#burger");
    const menuOpen = document.querySelector("#menu-open");
    const menuClose = document.querySelector("#menu-close");
    const mobileMenu = document.querySelector("#mobile-menu");

    if (!burger || !menuOpen || !menuClose || !mobileMenu) return;

    burger.addEventListener("click", () => {
      /**
       * Переключаем иконки бургера
       */
      menuOpen.classList.toggle("hidden");
      menuOpen.classList.toggle("block");

      menuClose.classList.toggle("hidden");
      menuClose.classList.toggle("block");

      /**
       * Переключаем мобильное меню mobile-menu--active
       */
      mobileMenu.classList.toggle("mobile-menu--active");

      /**
       * Обновляем атрибут aria-expanded для доступности
       */
      const isExpanded = burger.getAttribute("aria-expanded") === "true";
      burger.setAttribute("aria-expanded", String(!isExpanded));
    });
  });
</script>
